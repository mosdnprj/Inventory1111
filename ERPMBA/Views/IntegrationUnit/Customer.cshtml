
@{
    ViewBag.Title = "Customer";
}

@Html.Partial("CustomerAdmin")


<script>
    var myApp1 = angular.module("myApp1", []);


    myApp1.controller("NewCustomerctrl", function ($scope, $http) {
        $scope.NewCustomerDetails = "";

        $http.get("/IntegrationUnit/GetNewCustomerInfo")
        .then(function (result) {
            $scope.NewCustomerDetails = result.data;
            $scope.NewCustomerdetails = true;
            $scope.editAdd = true;
            $scope.editupdate = false;
            alert("success");
            $scope.Newaddressdetails = false;

           
        })
        $scope.removeRec = function (User) {
            $http.post("/IntegrationUnit/DeleteNewCustomer", User)
             .then(function (data) {
                 location.reload();
                 return response;


             })
        }
        $scope.NewInsert = {
            NewUsers: {}
        }
        $scope.EditRecord = function (User) {
            $scope.NewInsert.NewUsers.CustomerID = User.CustomerID;
            $scope.NewInsert.NewUsers.Salutation = User.Salutation;
            $scope.NewInsert.NewUsers.CustomerName = User.CustomerName;
            $scope.NewInsert.NewUsers.Companyname = User.Companyname;
            $scope.NewInsert.NewUsers.Contactdisplayname = User.Contactdisplayname;
            $scope.NewInsert.NewUsers.Email = User.Email;
            $scope.NewInsert.NewUsers.Companymail = User.Companymail;
            $scope.NewInsert.NewUsers.Phoneno = User.Phoneno;
            $scope.NewInsert.NewUsers.Mobileno = User.Mobileno;
            $scope.NewInsert.NewUsers.Skype = User.Skype;
            $scope.NewInsert.NewUsers.Designation = User.Designation;
            $scope.NewInsert.NewUsers.Department = User.Department;
            $scope.NewInsert.NewUsers.Website = User.Website;
            $scope.NewInsert.NewUsers.Street1 = User.Street1;
            $scope.NewInsert.NewUsers.Street2 = User.Street2;
            $scope.NewInsert.NewUsers.City = User.City;
            $scope.NewInsert.NewUsers.States = User.States;
            $scope.NewInsert.NewUsers.Zipcode = User.Zipcode;
            $scope.NewInsert.NewUsers.Country = User.Country;
            $scope.NewInsert.NewUsers.Currency = User.Currency;
            $scope.NewInsert.NewUsers.Payment = User.Payment;
            $scope.NewCustomerdetails = true;
            $scope.editupdate = true;
            $scope.editAdd = false;
            alert("Edit");




        }

        $scope.Submit = function () {
            $http.post("/IntegrationUnit/InsertNewCustomer", $scope.NewInsert.NewUsers)
            .then(function (data) {
                location.reload();
                alert("Save Record");

            })
        }
        $scope.callAddress=function()
        {
            $scope.NewCustomerdetails = true;
            $scope.Newaddressdetails = true;
            $scope.NewAccountdetails = false;

        }
        $scope.callAccount=function()
        {
            $scope.NewCustomerdetails = true;
            $scope.Newaddressdetails = false;
            $scope.NewAccountdetails = true;
        }
        $scope.Update = function () {
            $http.post("/IntegrationUnit/UpdateNewCustomer", $scope.NewInsert.NewUsers)
            .then(function (data) {
                location.reload();
                alert("Save Update");
                $scope.editAdd = true;
                $scope.editupdate = false;

            })
        }
        


    });
</script>
<div ng-app="myApp1" style="float:left; width:60%;height:100%;padding-top:80px;padding-left:50px;">

    <div ng-controller="NewCustomerctrl">


        <h3> New Customer</h3>
        <hr />
        <table ng-show="NewCustomerDetails" align="center">

            <tr>
                <td>Customer ID</td>
                <td>
                    <input type=text id="firstn" size="30" ng-model="NewInsert.NewUsers.CustomerID" class="form-control" readonly>
                </td>
                
            </tr>
            </table>
        <table ng-show="NewCustomerdetails" style="float:left;">
            <tr>
                <td>
                    Title
                </td>
                <td>
                    <select name="title"  ng-model="NewInsert.NewUsers.Salutation" class="form-control">
                        <option value="" disabled style="display:none;">Select Title</option>
                        <option>Mr.</option>
                        <option>Mrs.</option>
                        <option>Miss</option>
                    </select>
                </td>
                <td>Customer name</td>
                <td>
                    <input type=text id="firstn" size="20" ng-model="NewInsert.NewUsers.CustomerName" class="form-control" placeholder="Enter your Full Name">
                </td>

            </tr>
            <tr>
                <td>Company Name</td>
                <td>
                    <input type=text id="companyn" size="20" ng-model="NewInsert.NewUsers.Companyname" class="form-control" placeholder="Enter your Company Name">
                </td>
                <td>Contact Display Name</td>
                <td>
                    <input type=text id="companyn" size="20" ng-model="NewInsert.NewUsers.Contactdisplayname" class="form-control" placeholder="Enter your Display Name">
                </td>
            </tr>

            <tr>
                <td>Email</td>
                <td>
                    <input type=text id="email" size="20" ng-model="NewInsert.NewUsers.Email" class="form-control" placeholder="Enter Your Mail">
                </td>
                <td>Company Mail</td>
                <td>
                    <input type=text id="email" size="20" ng-model="NewInsert.NewUsers.Companymail" class="form-control" placeholder="Enter Your Company Mail">
                </td>
            </tr>
            <tr>
                <td>Phone</td>
                <td>

                    <input type=text id="mobno" size="20" ng-model="NewInsert.NewUsers.Phoneno" class="form-control" placeholder="Enter Mobile No">
                </td>
                <td>Mobile</td>
                <td>

                    <input type=text id="mobno" size="20" ng-model="NewInsert.NewUsers.Mobileno" class="form-control" placeholder="Enter Mobile No">
                </td>
            </tr>
            <tr>

                <td>Skype Number</td>
                <td>

                    <input type=text id="desg" size="20" ng-model="NewInsert.NewUsers.Skype" class="form-control" placeholder="Skype Name/Number">
                </td>
                <td>Designation</td>
                <td>

                    <input type=text id="desg" size="20" ng-model="NewInsert.NewUsers.Designation" class="form-control" placeholder="Enter your Designation">
                </td>
            </tr>
            <tr>

                <td>Department</td>
                <td>

                    <input type=text id="desg" size="20" ng-model="NewInsert.NewUsers.Department" class="form-control" placeholder="Enter Department">
                </td>
                <td>Website</td>
                <td>

                    <input type=text id="desg" size="20" ng-model="NewInsert.NewUsers.Website" class="form-control" placeholder="Website Address">
                </td>
            </tr>


        </table>
        <div style="float:left;padding-left:5px;padding-top:10px;">
            <table class="table table-striped" style="width:94%;text-align:center;">

                <tbody>
                    <tr>
                        <td><input type="button" ng-click="callAddress()" value="Address Details" /></td>
                        <td><input type="button" ng-click="callAccount()" value="Payment Details" /></td>

                    </tr>

                </tbody>
            </table>

            <table ng-show="Newaddressdetails">

                <tr>

                    <td>
                        Street Name
                    </td>
                    <td>
                        <input type=text id="textname" size="20" ng-model="NewInsert.NewUsers.Street1" class="form-control" placeholder="Enter your House Number">
                    </td>

                    <td>
                        Street Name
                    </td>
                    <td>
                        <input type=text id="textname" size="20" ng-model="NewInsert.NewUsers.Street2" class="form-control" placeholder="Enter your Locality Name">
                    </td>
                </tr>
                <tr>
                    <td>Country</td>
                    <td>
                        <input type=text id="textname" size="20" ng-model="NewInsert.NewUsers.Country" class="form-control" placeholder="Enter country">
                    </td>
                    <td>State</td>
                    <td>
                        <input type=text id="textname" size="20" ng-model="NewInsert.NewUsers.States" class="form-control" placeholder="Enter State">
                    </td>

                </tr>
                <tr>
                    <td>City</td>
                    <td>
                        <input type=text id="textname" size="20" ng-model="NewInsert.NewUsers.City" class="form-control" placeholder="Enter City">
                    </td>
                    <td>Zipcode</td>
                    <td>
                        <input type=text id="textname" size="20" ng-model="NewInsert.NewUsers.Zipcode" class="form-control" placeholder="Enter Pincode">
                    </td>
                </tr>


            </table>
            <table ng-show="NewAccountdetails">

                <tr>

                    <td>
                        Currency
                    </td>
                    <td>
                        <select class="form-control" ng-model="NewInsert.NewUsers.Currency">
                            <option value="">Select Currency</option>
                            <option value="AUD">Australian Dollar</option>
                            <option value="BRL">Brazilian Real </option>
                            <option value="CAD">Canadian Dollar</option>
                            <option value="CZK">Czech Koruna</option>
                            <option value="DKK">Danish Krone</option>
                            <option value="EUR">Euro</option>
                            <option value="HKD">Hong Kong Dollar</option>
                            <option value="HUF">Hungarian Forint </option>
                            <option value="ILS">Israeli New Sheqel</option>
                            <option value="IR">Indian Rupee</option>
                            <option value="JPY">Japanese Yen</option>
                            <option value="MYR">Malaysian Ringgit</option>
                            <option value="MXN">Mexican Peso</option>
                            <option value="NOK">Norwegian Krone</option>
                            <option value="NZD">New Zealand Dollar</option>
                            <option value="PHP">Philippine Peso</option>
                            <option value="PLN">Polish Zloty</option>
                            <option value="GBP">Pound Sterling</option>
                            <option value="SGD">Singapore Dollar</option>
                            <option value="SEK">Swedish Krona</option>
                            <option value="CHF">Swiss Franc</option>
                            <option value="TWD">Taiwan New Dollar</option>
                            <option value="THB">Thai Baht</option>
                            <option value="TRY">Turkish Lira</option>
                            <option value="USD">U.S. Dollar</option>
                        </select>
                    </td>

                    <td>
                        Payment terms
                    </td>
                    <td>
                        <select class="form-control" ng-model="NewInsert.NewUsers.Payment">
                            <option value="">Select</option>
                            <option value="10">Net 10</option>
                            <option value="15">Net 15</option>
                            <option value="20">Net 20</option>
                            <option value="30">Net 30</option>
                            <option value="45">Net 45</option>
                            <option value="60">Net 60</option>
                            <option value="End">Due On Reciept</option>
                            <option value="Month">Due End of the Month</option>
                            <option value="NMonth">Due End of the Next Month</option>
                            <option value="Cash">Cash On Delivery</option>
                            <option value="Adv">Cash in Advance</option>

                        </select>

                    </td>
                </tr>
                


            </table>


            <div style="padding-left:200px;padding-top:20px;">
                <table ng-show="NewCustomerdetails">
                    <tr style="align-items:center">

                        <td>
                            <input type="button" value="Update" class="btn btn-success" id="btnUpdate" ng-show="editupdate" ng-click="Update()" />
                        </td>

                        <td>
                            <input type="button" value="Submit" class="btn btn-success" id="btnSubmit" ng-show="editAdd" ng-click="Submit()" />
                        </td>
                    </tr>


                </table>
            </div>
            <br />
            <br />
            <div style="width:80%;float:left;">
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th style="text-align:center">Customer ID</th>
                            <th style="text-align:center">Customer Name</th>
                            <th style="text-align:center">Mobile Number</th>
                            <th style="text-align:center">Designation</th>
                            <th style="text-align:center">Email</th>
                            <th style="text-align:center">Address</th>

                        </tr>

                    </thead>
                    <tbody>
                        <tr ng-repeat="NewCustomerd in NewCustomerDetails">

                            <td style="text-align:center">{{NewCustomerd.CustomerID}}</td>
                            <td style="text-align:center">{{NewCustomerd.Salutation}} {{NewCustomerd.CustomerName}} </td>
                            <td style="text-align:center">{{NewCustomerd.Mobileno}}</td>
                            <td style="text-align:center">{{NewCustomerd.Designation}} </td>
                            <td style="text-align:center">{{NewCustomerd.Email}}</td>
                            <td style="text-align:center">{{NewCustomerd.Street1}} {{NewCustomerd.Street2}} {{NewCustomerd.City}} {{NewCustomerd.State}}-{{NewCustomerd.Zipcode}} </td>

                        </tr>
                    </tbody>

                </table>
            </div>
            <div style="width:20%;float:left;padding-top:25px;">
                <table>

                    <tr ng-repeat="NewCustomerd in NewCustomerDetails">
                        <td>
                            <input type="button" style="height:32px;" class="btn btn-success" value="Edit Record" id="btnEdit" ng-model="editupdate" ng-click="EditRecord(NewCustomerd)">
                        </td>
                        <td>
                            <input type="button" style="height:32px;" class="btn btn-danger" value="Delete" id="btnDelete" ng-click="removeRec(NewCustomerd)" />
                        </td>
                    </tr>
                </table>

            </div>
        </div>
</div>
    </div>
