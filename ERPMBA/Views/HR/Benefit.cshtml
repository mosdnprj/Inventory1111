@model ERPMBA.Models.Benefit
@{
    ViewBag.Title = "Benefit";
}
@Html.Partial("DM")
<script>
var app = angular.module("myapp", []);
	app.controller("ListController", ['$scope', function($scope) {
	    $scope.personalDetails = [
	        {
	            'fname':'',
	            'lname':'',
	            'email':''
	        },
	        {
	            'fname':'',
	            'lname':'',
	            'email':''
	        },
	        {
	            'fname':'',
	            'lname':'',
	            'email':''
	        }];

	        $scope.addNew = function(personalDetails){
	            $scope.personalDetails.push({
	                'fname':" " ,
	                'lname':" " ,
	                'email': " ",
	            });
	            $scope.PD = {};
	        };

	        $scope.remove = function(){
	            var newDataList=[];
	            $scope.selectedAll = false;
	            angular.forEach($scope.personalDetails, function(selected){
	                if(!selected.selected){
	                    newDataList.push(selected);
	                }
	            });
	            $scope.personalDetails = newDataList;
	        };

	        $scope.checkAll = function () {
	            if (!$scope.selectedAll) {
	                $scope.selectedAll = true;
	            } else {
	                $scope.selectedAll = false;
	            }
	            angular.forEach($scope.personalDetails, function (personalDetails) {
	                personalDetails.selected = $scope.selectedAll;
	            });
	        };
	}]);
</script>
<div class="tab-content" style="float:left; width:60%;height:100%;">
    <div id="Details" class="tab-pane fade in active" style="width:100%;height:100%;padding-left:15px;padding-top:80px;">
        <h3><CENTER>Benefit Details</CENTER></h3>
        <form class="form-group">
            <div class="input-group" style="width:200px;">
                <label for="emplid">Employee Id</label>
                <select class="form-control" id="emplid">
                    <option>Select Project</option>
                    <option>emp1</option>
                    <option>emp2</option>
                    <option>emp3</option>
                    <option>emp4</option>
                </select>
            </div>
            <div class="input-group" style="width:200px;">
                <label for="EducationaAllowance"> Educationa Allowance</label>
                <input type="text" class="form-control" />
            </div>

            <div class="input-group" style="width:200px;">
                <label for="Lunch">Lunch</label>
                <input type="text" class="form-control" />
            </div>

            <div class="input-group" style="width:200px;">
                <label for="Housingallowance">Housing allowance</label>
                <input type="text" class="form-control" />
            </div>

        </form>

        <b>Medical Details</b>
        <br />
        <div ng-app="myapp" ng-controller="ListController" style="padding-left:15px;">
            <div class="container">
                <div class="row">
                    <div class="col-md-8">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <form ng-submit="addNew()">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th><input type="checkbox" ng-model="selectedAll" ng-click="checkAll()" /></th>
                                                <th>Sheme</th>
                                                <th>Category</th>
                                                <th>Cost</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="personalDetail in personalDetails">
                                                <td>
                                                    <input type="checkbox" ng-model="personalDetail.selected" />
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" ng-model="personalDetail.fname" required />
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" ng-model="personalDetail.lname" required />
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control" ng-model="personalDetail.email" required />
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="form-group">
                                        <input ng-hide="!personalDetails.length" type="button" class="btn btn-danger pull-right" ng-click="remove()" value="Remove">
                                        <input type="submit" class="btn btn-primary addnew pull-right" value="Add New">
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>






